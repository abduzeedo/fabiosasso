<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CSS Visual Editor</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,400,0,0"
    rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css"
    integrity="sha512-7oH41eT/2Usx2Jj0j5zqQdw6lYm3/9ym7oM9ZPM8rg+YJ0YpU9UN2jUFZp6VKblqU2Otz7m3TBYTu2o+sr7u8g=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/material-darker.min.css"
    integrity="sha512-4y6x1xSfyJ5G8m2tP4LwVv1qOT5cPRP0e2N2z4pZk5zByWwT8yQ1yI3cWb9yXQyJKi3iGQe8d5Xj1P9v8Sh+JQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="/styles.css" />
</head>

<body>
  <div id="app">
    <header class="topbar">
      <div class="brand">
        <span class="title">CSS Visual Editor</span>
      </div>
      <div class="top-actions">
        <button class="icon-btn" id="undoBtn" title="Undo (Ctrl/Cmd+Z)">
          <span class="material-symbols-outlined">undo</span>
        </button>
        <button class="icon-btn" id="redoBtn" title="Redo (Shift+Ctrl/Cmd+Z)">
          <span class="material-symbols-outlined">redo</span>
        </button>
        <button class="primary-btn" id="exportBtn">Export</button>
      </div>
    </header>

    <aside class="tool-rail">
      <button class="tool-btn active" data-tool="select" title="Select (V)">
        <span class="material-symbols-outlined">near_me</span>
      </button>
      <button class="tool-btn" data-tool="rect" title="Rectangle (R)">
        <span class="material-symbols-outlined">crop_square</span>
      </button>
      <button class="tool-btn" data-tool="text" title="Text (T)">
        <span class="material-symbols-outlined">title</span>
      </button>
      <button class="tool-btn" data-tool="hand" title="Pan/Zoom (Z)">
        <span class="material-symbols-outlined">pan_tool</span>
      </button>
    </aside>

    <main class="workspace">
      <section class="layers-panel" id="layersPanel">
        <div class="panel-title">Layers</div>
        <div class="layer-list" id="layerList"></div>
      </section>

      <section class="visual-canvas" id="canvasArea">
        <div class="canvas-header">
          <div class="canvas-title">Canvas</div>
          <div class="canvas-controls">
            <div class="toggle-group">
              <span class="toggle-label">Preview</span>
              <label class="switch">
                <input type="checkbox" id="modeToggle">
                <span class="slider round"></span>
              </label>
            </div>
            <button class="chip" id="zoomOut">-</button>
            <button class="chip" id="zoom100">100%</button>
            <button class="chip" id="zoomIn">+</button>
            <button class="chip" id="zoomFit">Fit</button>
          </div>
        </div>
        <div class="canvas-wrap" id="canvasWrap">
          <div id="canvas" class="canvas">
            <div id="scene" class="canvas-inner"></div>
          </div>
        </div>
      </section>

      <section class="inspector" id="inspector">
        <div class="panel-title">Inspector</div>
        <div class="inspector-content" id="inspectorContent"></div>
      </section>
    </main>

    <section class="code-panel">
      <div class="code-header">
        <div class="code-title">Code Preview (Selected Element)</div>
        <div class="code-actions">
          <span class="code-warning" id="htmlWarning">Visual sync limited when editing HTML manually.</span>
          <button class="ghost-btn" id="regenBtn">Regenerate from Visual</button>
          <button class="ghost-btn" id="runJsBtn">Run JS</button>
        </div>
      </div>
      <div class="code-body">
        <div class="code-editor" data-tab-panel="html">
          <div class="editor-label">HTML</div>
          <textarea id="htmlEditor"></textarea>
        </div>
        <div class="code-editor" data-tab-panel="css">
          <div class="editor-label">CSS</div>
          <textarea id="cssEditor"></textarea>
        </div>
        <div class="code-editor" data-tab-panel="js">
          <div class="editor-label">JS</div>
          <textarea id="jsEditor"></textarea>
        </div>
      </div>
    </section>
  </div>

  <div class="modal hidden" id="exportModal">
    <div class="modal-card">
      <div class="modal-header">
        <h3>Export</h3>
        <button class="icon-btn" id="closeExport">
          <span class="material-symbols-outlined">close</span>
        </button>
      </div>
      <div class="modal-body">
        <p>Copy or download the generated files.</p>
        <div class="export-actions">
          <button class="ghost-btn" data-download="html">Download HTML</button>
          <button class="ghost-btn" data-download="css">Download CSS</button>
          <button class="ghost-btn" data-download="js">Download JS</button>
        </div>
        <div class="export-block">
          <h4>index.html</h4>
          <pre id="exportHtml"></pre>
        </div>
        <div class="export-block">
          <h4>styles.css</h4>
          <pre id="exportCss"></pre>
        </div>
        <div class="export-block">
          <h4>script.js</h4>
          <pre id="exportJs"></pre>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"
    integrity="sha512-TE6o0GQ9qtn4SS6O8xGOSwNnlwSX1DdZmFZQw3/3yJkFiAOhkB6n8bwKpcXxTBA4oK4BRhQWit6V/6o7XoC8VQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/xml/xml.min.js"
    integrity="sha512-8hWsEjJXobS5z0z9+w1z2GkHzTq0a2VimwOKjQyeprI9dHq3iVwKcVn45wS6lS2QbLxoaPENg0IYt9J6s1e85g=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/css/css.min.js"
    integrity="sha512-zL6L8xP2/2m+6W2KN7qGSMCj7g9Mr2z+0m9/1jExP1x9d5jUZCS7YbH0s2z3Zg1cUPY1HxXyuLmu9hN8t3oCDg=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/javascript.min.js"
    integrity="sha512-Yf2K2tiQ8L5Q5tS3rB3lQqfYx6r8D4lJH6B6VtdrBNA8xN5Tbb+qoKc2UX4BtN/0VQcznfbwcuGJxjl80l7d8A=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script type="module" src="/main.js"></script>
</body>

</html>